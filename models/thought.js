const{Schema:Schema,model:model,Types:Types}=require("mongoose"),reactionSchema=new Schema({reactionId:{type:Schema.Types.ObjectId,default:()=>new Types.ObjectId},responseBody:{type:String,required:!0,maxlength:280},username:{type:String,required:!0},createdAt:{type:Date,default:Date.now}},{toJSON:{getters:!0},id:!1}),thoughtSchema=new Schema({thoughtText:{type:String,required:!0,minlength:1,maxlength:280},createdAt:{type:Date,default:Date.now},username:{type:String,required:!0},reactions:[reactionSchema]},{toJSON:{virtuals:!0},id:!1});thoughtSchema.virtual("reactionCount").get(function(){return this.reactions.length});const Thought=model("Thought",thoughtSchema);module.exports=Thought;